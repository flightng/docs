# PID 调参

!!! warning "页面未完成"
    本页面内容尚未完成，仅供参考。

本指南介绍如何调整 PID 参数以获得最佳飞行性能。

---

## PID 基础

PID 控制器由三部分组成：

| 项 | 作用 |
|----|------|
| **P** (比例) | 响应当前误差，值越大响应越快 |
| **I** (积分) | 消除稳态误差，保持姿态 |
| **D** (微分) | 预测和抑制振荡 |

---

## PID 参数

### Roll/Pitch

| 参数 | 说明 | 默认值 |
|------|------|--------|
| `PID_ROLL_P` | Roll P增益 | 45 |
| `PID_ROLL_I` | Roll I增益 | 80 |
| `PID_ROLL_D` | Roll D增益 | 35 |
| `PID_PITCH_P` | Pitch P增益 | 45 |
| `PID_PITCH_I` | Pitch I增益 | 80 |
| `PID_PITCH_D` | Pitch D增益 | 35 |

### Yaw

| 参数 | 说明 | 默认值 |
|------|------|--------|
| `PID_YAW_P` | Yaw P增益 | 45 |
| `PID_YAW_I` | Yaw I增益 | 80 |
| `PID_YAW_D` | Yaw D增益 | 0 |

---

## 调参方法

### 步骤 1：调整 P

1. 从默认值开始
2. 逐渐增加 P
3. 出现高频振动时，降低 10-20%

### 步骤 2：调整 D

1. D 用于抑制 P 引起的振荡
2. 逐渐增加 D
3. 电机发热或出现噪声时，降低 D

!!! warning "D 项过高的症状"
    - 电机发热
    - 高频噪声
    - 螺旋桨颤抖

### 步骤 3：调整 I

1. I 用于保持姿态
2. 通常使用默认值即可
3. I 过低会导致漂移，过高会导致低频摆动

---

## 常见问题

### 高频振动

**症状**：悬停时螺旋桨模糊、电机发热

**解决**：降低 D 增益或滤波器截止频率

### 低频摆动

**症状**：飞机左右摇摆

**解决**：降低 P 或 I 增益

### 响应迟钝

**症状**：打杆后响应延迟

**解决**：增加 P 和 D 增益

---

## 推荐设置

### 5 寸自由式

| 参数 | 值 |
|------|---|
| P (Roll/Pitch) | 45 |
| I (Roll/Pitch) | 80 |
| D (Roll/Pitch) | 35 |

### 5 寸竞速

| 参数 | 值 |
|------|---|
| P (Roll/Pitch) | 55 |
| I (Roll/Pitch) | 90 |
| D (Roll/Pitch) | 40 |

### Tiny Whoop

| 参数 | 值 |
|------|---|
| P (Roll/Pitch) | 35 |
| I (Roll/Pitch) | 70 |
| D (Roll/Pitch) | 25 |

---

## 调参检查清单

- [ ] 校准加速度计
- [ ] 检查电机方向
- [ ] 从默认 PID 开始
- [ ] 先调 P，再调 D
- [ ] 最后微调 I
- [ ] 保存设置

```
param save
```

