# 功能特性

Fydelix 提供丰富的功能特性，为你带来卓越的飞行体验。

---

## 实时操作系统

Fydelix 基于成熟的实时操作系统架构，提供：

- **确定性调度**：保证关键任务按时执行
- **多任务处理**：陀螺仪采样、姿态计算、电机输出并行运行
- **高效资源管理**：充分利用 AT32 芯片性能

---

## 先进滤波系统

噪声是飞控性能的大敌。Fydelix 提供多种滤波器选项：

### 陀螺仪滤波

有效抑制电机振动和机架共振产生的噪声，让姿态数据更加干净。

### D项滤波

专门针对 PID D项进行滤波，避免 D项放大高频噪声导致电机发热。

### 滤波器类型

| 类型 | 特点 | 适用场景 |
|------|------|----------|
| PT1/PT2/PT3 | 计算效率高 | 通用场景 |
| Biquad | 灵活可配置 | 大多数场景 |
| Butterworth | 通带平坦 | 需要平滑响应 |
| Chebyshev | 截止陡峭 | 高噪声环境 |

---

## 安全保护系统

Fydelix 内置完善的安全保护机制，**强制启用，无法关闭**。

### RC 信号丢失保护

采用智能的二阶段保护策略：

| 阶段 | 触发条件 | 默认动作 |
|------|----------|----------|
| 阶段 1 | 检测到信号丢失 | 稳定飞行姿态 |
| 阶段 2 | 阶段 1 超时 | 安全停机 |

### 解锁条件检测

解锁前自动检查：

- 传感器状态正常
- 油门在最低位
- RC 信号有效
- 无其他异常

### 电池监控

实时监控电池电压，在 OSD 上显示警告，帮助你及时返航。

---

## 控制系统

### 双环 PID 控制

- **外环（角度环）**：用于自稳模式
- **内环（速率环）**：核心控制器，响应灵敏

### 多种速率曲线

根据你的飞行风格选择：

| 速率曲线 | 特点 |
|----------|------|
| Betaflight Rate | 与 Betaflight 兼容，便于迁移 |
| Actual Rate | 更直观，直接设置最大角速度 |

---

## OSD 显示

通过 MSP 协议支持 OSD 显示，兼容主流图传。

显示内容包括：

- :material-battery: 电池电压
- :material-timer: 飞行时间
- :material-signal: 信号强度
- :material-airplane-alert: 飞行模式

---

## Blackbox 日志

支持将飞行数据记录到板载 Flash，便于事后分析和调参。

记录内容：

- 陀螺仪数据
- RC 输入
- 电机输出
- PID 输出

---

## 遥控协议支持

| 协议 | 更新频率 | 说明 |
|------|----------|------|
| CRSF | 150-500Hz | 推荐，低延迟 |
| SBUS | 100Hz | 广泛兼容 |

---

## 电机协议

支持 DShot 数字电机协议：

- DShot300
- DShot600

数字协议相比 PWM 具有更高的精度和更低的延迟。

